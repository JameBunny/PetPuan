<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard ‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á (Demo Real Upload)</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        :root { --primary: #FF9F1C; --success: #2EC4B6; --dark: #2B2D42; --danger: #FF4757; --grey: #ccc; }
        body { font-family: 'Kanit', sans-serif; background: #f0f2f5; margin: 0; padding-bottom: 90px; }

        /* Header */
        .header { background: var(--dark); padding: 25px 20px 40px; color: white; border-radius: 0 0 30px 30px; display: flex; align-items: center; gap: 15px; position: relative; }
        .profile-img { width: 70px; height: 70px; border-radius: 50%; border: 3px solid white; object-fit: cover; transition: 0.3s; background: #ddd; }
        .user-info h2 { margin: 0; font-size: 1.2rem; }
        .user-info p { margin: 0; font-size: 0.9rem; opacity: 0.8; }
        
        /* Container */
        .container { padding: 0 20px; max-width: 600px; margin: -30px auto 0; position: relative; }

        /* Toggle Button */
        .status-card { background: white; padding: 15px 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; transition: 0.3s; }
        .toggle-switch { position: relative; width: 50px; height: 26px; border-radius: 20px; background: var(--grey); cursor: pointer; transition: 0.3s; }
        .toggle-switch::after { content: ''; position: absolute; width: 22px; height: 22px; background: white; border-radius: 50%; top: 2px; left: 2px; transition: 0.3s; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .toggle-switch.active { background: var(--success); }
        .toggle-switch.active::after { left: 26px; }
        .status-on { border-left: 5px solid var(--success); }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; }
        .stat-card.updated { transform: scale(1.05); background: #e0f7fa; }
        .stat-card h3 { margin: 0; font-size: 1.8rem; color: var(--primary); }
        .stat-card p { margin: 5px 0 0; color: #666; font-size: 0.9rem; }

        /* Job Alert Card */
        .job-card { background: white; border-radius: 15px; padding: 20px; border-left: 5px solid var(--danger); box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: none; margin-bottom: 20px; animation: slideUp 0.5s; }
        .btn-accept { width: 100%; background: var(--success); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold; margin-top: 10px; cursor: pointer; font-size: 1rem; transition: 0.2s; }
        .btn-accept:active { transform: scale(0.95); }

        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center; animation: fadeIn 0.2s; }
        .modal-content { background: white; width: 85%; max-width: 400px; padding: 25px; border-radius: 20px; position: relative; animation: popIn 0.3s; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; }
        .form-group input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-family: 'Kanit'; }
        .btn-save { width: 100%; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .close-btn { position: absolute; top: 15px; right: 15px; font-size: 1.5rem; cursor: pointer; color: #aaa; }

        /* Menu List */
        .menu-list { background: white; border-radius: 15px; overflow: hidden; }
        .menu-item { display: flex; justify-content: space-between; padding: 15px 20px; border-bottom: 1px solid #eee; cursor: pointer; color: #333; text-decoration: none; }

        /* Bottom Nav */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 100; }
        .nav-item { text-align: center; color: #999; font-size: 0.8rem; text-decoration: none; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.2rem; display: block; margin-bottom: 4px; }

        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0.8); } to { transform: scale(1); } }
    </style>
</head>
<body>

    <div class="header">
        <img id="displayImg" src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=200&q=80" class="profile-img">
        <div class="user-info">
            <h2 id="displayName">‡∏û‡∏µ‡πà‡∏à‡∏≠‡∏¢ (Joy)</h2>
            <p><i class="fas fa-map-marker-alt"></i> <span id="displayLoc">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</span></p>
        </div>
    </div>

    <div class="container">
        <div class="status-card" id="statusCard">
            <span id="statusText" style="font-weight:bold; color:var(--grey);">üî¥ ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</span>
            <div class="toggle-switch" id="statusSwitch" onclick="demoToggle()"></div>
        </div>

        <div class="job-card" id="jobAlert">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <strong>üî• ‡∏á‡∏≤‡∏ô‡∏î‡πà‡∏ß‡∏ô! ‡∏ù‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á 2 ‡∏ß‡∏±‡∏ô</strong>
                <span style="color:#999; font-size:0.8rem;">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ</span>
            </div>
            <div style="display:flex; gap:10px; align-items:center; background:#f9f9f9; padding:10px; border-radius:10px;">
                <img src="https://images.unsplash.com/photo-1543466835-00a7907e9de1?auto=format&fit=crop&w=100&q=80" style="width:50px; height:50px; border-radius:50%; object-fit:cover;">
                <div>
                    <div>‡∏ô‡πâ‡∏≠‡∏á‡πÑ‡∏Ç‡πà‡∏ï‡∏∏‡πã‡∏ô (Bulldog)</div>
                    <div style="color:var(--primary); font-weight:bold;">‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô ‡∏ø800</div>
                </div>
            </div>
            <button class="btn-accept" onclick="demoAcceptJob()">‚úÖ ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</button>
        </div>

        <div class="stats-grid">
            <div class="stat-card" id="cardJobs">
                <h3 id="jobCount">0</h3>
                <p>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
            </div>
            <div class="stat-card" id="cardIncome">
                <h3>‡∏ø<span id="incomeCount">0</span></h3>
                <p>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°</p>
            </div>
        </div>

        <div class="menu-list">
            <div class="menu-item" onclick="openModal()">
                <span><i class="fas fa-edit" style="color:var(--primary); width:25px;"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span>
                <i class="fas fa-chevron-right" style="color:#ccc;"></i>
            </div>
            <a href="index.html" class="menu-item" style="color:var(--danger);">
                <span><i class="fas fa-sign-out-alt" style="width:25px;"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
            </a>
        </div>
    </div>

    <div class="modal" id="editModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3 style="margin-top:0;">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
            
            <div class="form-group">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á</label>
                <input type="text" id="inputName" value="‡∏û‡∏µ‡πà‡∏à‡∏≠‡∏¢ (Joy)">
            </div>
            <div class="form-group">
                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</label>
                <input type="text" id="inputLoc" value="‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø">
            </div>
            
            <div class="form-group">
                <label>‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</label>
                <input type="file" id="realFileInput" accept="image/*" style="display:none;" onchange="previewImage(event)">
                
                <button onclick="document.getElementById('realFileInput').click()" style="width:100%; padding:15px; border:2px dashed #ccc; background:#f9f9f9; color:#666; border-radius:8px; cursor:pointer;">
                    <i class="fas fa-camera" style="font-size:1.5rem; display:block; margin-bottom:5px;"></i>
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
                </button>
                
                <img id="previewImg" style="width:80px; height:80px; border-radius:50%; object-fit:cover; margin-top:10px; display:none; border:2px solid var(--primary);">
            </div>
            
            <button class="btn-save" onclick="saveProfileReal()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>
    </div>

    <div class="bottom-nav">
        <a href="#" class="nav-item active"><i class="fas fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        <a href="#" class="nav-item"><i class="fas fa-calendar-alt"></i> ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏á‡∏≤‡∏ô</a>
        <a href="#" class="nav-item"><i class="fas fa-comment-dots"></i> ‡πÅ‡∏ä‡∏ó</a>
    </div>

    <script>
        // --- 1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏à‡∏£‡∏¥‡∏á (JavaScript FileReader) ---
        function previewImage(event) {
            const input = event.target;
            const preview = document.getElementById('previewImg');
            
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    // 1. ‡πÄ‡∏≠‡∏≤‡∏£‡∏π‡∏õ‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô Modal
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // 2. ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏π‡∏õ‡πÑ‡∏ß‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (Global Variable)
                    window.tempImageSrc = e.target.result;
                }
                
                reader.readAsDataURL(input.files[0]); // ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô Base64
            }
        }

        function saveProfileReal() {
            // 1. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠
            const newName = document.getElementById('inputName').value;
            const newLoc = document.getElementById('inputLoc').value;
            document.getElementById('displayName').innerText = newName;
            document.getElementById('displayLoc').innerText = newLoc;

            // 2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà)
            if (window.tempImageSrc) {
                document.getElementById('displayImg').src = window.tempImageSrc;
            }

            // 3. ‡∏õ‡∏¥‡∏î Modal ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
            closeModal();
            Swal.fire({
                icon: 'success',
                title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!',
                text: '‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‚ú®',
                timer: 2000,
                showConfirmButton: false
            });
        }

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏° (Toggle & Accept Job) ---
        function demoToggle() {
            const btn = document.getElementById('statusSwitch');
            const txt = document.getElementById('statusText');
            const card = document.getElementById('statusCard');
            const jobCard = document.getElementById('jobAlert');

            btn.classList.toggle('active');

            if (btn.classList.contains('active')) {
                txt.innerHTML = '<span style="color:var(--success)">üü¢ ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</span>';
                card.classList.add('status-on');
                Swal.fire({ icon: 'success', title: '‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß', text: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤...', timer: 1000, showConfirmButton: false });
                setTimeout(() => { jobCard.style.display = 'block'; if(navigator.vibrate) navigator.vibrate([200]); }, 1500);
            } else {
                txt.innerHTML = '<span style="color:var(--grey)">üî¥ ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</span>';
                card.classList.remove('status-on');
                jobCard.style.display = 'none';
            }
        }

        function demoAcceptJob() {
            document.getElementById('jobAlert').style.display = 'none';
            Swal.fire({ icon: 'success', title: '‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', text: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤ ‡∏ø800', showConfirmButton: false, timer: 1500 });
            
            let jobs = parseInt(document.getElementById('jobCount').innerText);
            let income = parseInt(document.getElementById('incomeCount').innerText);
            document.getElementById('jobCount').innerText = jobs + 1;
            document.getElementById('incomeCount').innerText = income + 800;

            document.getElementById('cardJobs').classList.add('updated');
            document.getElementById('cardIncome').classList.add('updated');
            setTimeout(() => {
                document.getElementById('cardJobs').classList.remove('updated');
                document.getElementById('cardIncome').classList.remove('updated');
            }, 300);
        }

        function openModal() { document.getElementById('editModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('editModal').style.display = 'none'; }
    </script>
</body>
</html>
